---
title: 2018GDCPC-4
date: 2018-04-01 16:26:04
tags: 2018GDCPC
---


[比赛地址](https://vjudge.net/contest/218983)

A.	分解因子，取个因子和min就行了

B.	二分答案mid，看V/C>=mid=> V-c * mid >= 0是否成立  
先讲一个比较裸的做法：网络流，
- 一开始假设所有的格子都取，和为sum, 同时，添点S向每条边界点连边，表示选了格子，则对应的边要付出代价，格子向汇点T连边，表示不选这个格要付出的代价，有公共边的格子连边，表示一个选一个不选的话，需要付出代价。
- 一个比较tricky的做法。。 spfa判负环，上[链接](https://blog.csdn.net/mirrorgray/article/details/51103138)

C.	dp+容斥
- 将所有点按照坐标排序，终点也当成障碍点，dp[i]表示只经过第i个障碍点的方案数，则dp[i] = 忽略障碍点走到(ri, ci)的方案数 – dp[j] * 从(rj, cj)走到(ri, ci)的方案数 (j < i)
- exp: 直接算的话，可能包含[1…i-1]的障碍点，减去dp[1] * 从(r1, c1)走到(ri, ci)的方案数，从(r1, c1)走到(ri, ci)的方案数可能包含了[2…i-1]的障碍点，其他同理。

D.	假设有n个数，如果不能组成三角形，那么从小到大排序后必有a[i] >= a[I – 1] + a[I – 2]，取等号即是fib序列，所以fib(n) <= 2^31就是最大的n，满足不能组成三角形。
- 这题直接暴力回溯lca，如果回溯途中fib(n) > 2^31,那么直接可以组成三角形，否则将数排序，判断a[i] < a[I – 1] + a[I – 2]是否成立。
- 本题n为47

E.	数位dp
- 因为2^a * 3^b * 5^c * 7^d <= 10^9，(a,b,c,d)四元组只有5000多项，预处理这些状态出来，然后dp[i] [state]表示目前在第 i 位，(a,b,c,d)状态为state的数的个数，枚举1-9进行转移即可

F.	线性基
- 从左往右，每个位置维护一组线性基，同时记录线性基的位置。 当加入新的数a[pos]时，如果已有的数可以组成 a[pos]，那么消一次线性基，在此过程中淘汰最早加入的线性基。

G.	前缀和的min

H.	位操作直接分位统计，对于每一位，变成(x1&x2) | … (x[n-1] & xn) = k
0 <= x1,x2….xn, k < 2
- 对于k=1的情况，其中和=0等价，2^n – (k=0)即可，所以统一考虑k = 0
- k=0时，用dp[i]表示(x1&x2) | … (x[i-1] & xi)的方案数，如果xi = 0，那么dp[i] = dp[I – 1]，如果xi = 1，那么(x[i-1] & xi) => x[I – 1] = 0，dp[i] = dp[I – 2]
- 所以此题就是一个使用矩阵乘法优化的递推入门。

    总结：BC两题是一个见证时代变迁的题目，其中B 13年刚出的时候使用的技术是网络流。C题在10年左右的校赛出现过，11年省赛也出现了原题，但是数据范围均为10。后面在tc/cf出现时已经为1000+
    
    另，H才是全场第3简单的题

